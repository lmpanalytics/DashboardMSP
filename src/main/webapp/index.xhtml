<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:fn="http://xmlns.jcp.org/jsp/jstl/functions">
    <h:head>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
        <h:outputStylesheet library="css" name="default.css" />
        <title>Dashboard Index</title>
    </h:head>
    <h:body>
        <h1>M&amp;SP Dashboards</h1>
        <p>Allow for query times up to 2.5 minutes</p>
        <p:layout style="min-width:600px;min-height:700px;">
            <p:layoutUnit position="west" resizable="true" size="40" minSize="300" maxSize="350">
                <h2>Filters</h2>
                <h:form rendered="#{user.renderCluster_DB}">
                    <h:panelGrid columns="3" cellpadding="5">              
                        <p:selectCheckboxMenu id="cluster" value="#{checkboxViewCluster.selectedClusters}" label="Clusters"
                                              filter="true" filterMatchMode="startsWith" panelStyle="width:300px" >
                            <f:selectItems value="#{checkboxViewCluster.clusters}"/>
                        </p:selectCheckboxMenu>

                        <p:commandButton value="Submit" update="displayClusters" oncomplete="PF('clusterDialog').show()" />
                        <h:outputLabel for="cluster" value="" />
                    </h:panelGrid>
                    <p:dialog header="Selected" modal="false" showEffect="fade" hideEffect="fade" widgetVar="clusterDialog" position="west">
                        <p:outputPanel id="displayClusters">

                            <p:dataList value="#{checkboxViewCluster.selectedClusters}" var="cluster" emptyMessage="No clusters selected" style="margin-bottom: 10px;">
                                <f:facet name="header">
                                    Clusters
                                </f:facet>
                                #{cluster}
                            </p:dataList>
                        </p:outputPanel>
                    </p:dialog>
                </h:form>

                <h:form rendered="#{user.renderCustGrp_DB}">
                    <h:panelGrid columns="3" cellpadding="5">              
                        <p:selectCheckboxMenu id="customerGroup" value="#{checkboxViewCustGroup.selectedCustGroups}" label="Customer Groups"
                                              filter="true" filterMatchMode="startsWith" panelStyle="width:300px" >
                            <f:selectItems value="#{checkboxViewCustGroup.customerGroups}"/>
                        </p:selectCheckboxMenu>

                        <p:commandButton value="Submit" update="displayClusters" oncomplete="PF('customerGroupDialog').show()" />
                        <h:outputLabel for="customerGroup" value="" />
                    </h:panelGrid>
                    <p:dialog header="Selected" modal="false" showEffect="fade" hideEffect="fade" widgetVar="customerGroupDialog" position="west">
                        <p:outputPanel id="displayClusters">

                            <p:dataList value="#{checkboxViewCustGroup.selectedCustGroups}" var="customerGroup" emptyMessage="No customer groups selected" style="margin-bottom: 10px;">
                                <f:facet name="header">
                                    Customer Groups
                                </f:facet>
                                #{customerGroup}
                            </p:dataList>
                        </p:outputPanel>
                    </p:dialog>
                </h:form>               
            </p:layoutUnit>

            <p:layoutUnit position="center" resizable="true" size="100" minSize="40" maxSize="200">                
                <h:form rendered="#{user.renderCategory_DB}">
                    <h2>Global Service Categories</h2>
                    <h:panelGrid columns="2" cellpadding="5">             
                        <h:commandLink action="dashboardSP">
                            <h:graphicImage 
                                url="#{resource['images:PartsIcon.png']}"
                                alt="Parts Icon pic"/>
                        </h:commandLink>
                        <h:commandLink action="dashboardMS">
                            <h:graphicImage 
                                url="#{resource['images:MaintenanceIcon.png']}"
                                alt="Maintenance Icon pic"/>
                        </h:commandLink>
                    </h:panelGrid>
                </h:form>

                <h2>Business Unit Reports</h2>
                <h:form>
                    <h:panelGrid columns="8" cellpadding="5">             
                        <h:commandButton id="spSalesBULFeur" value="BULF (Eur.)"
                                         action="dashboardSP_BULF_eur" rendered="#{user.renderBULF_DB}" 
                                         style="width: 200px; text-align: center">
                        </h:commandButton>
                        <h:outputLabel for="spSalesBULFeur" value="" />

                        <h:commandButton id="spSalesBUICFeur" value="BUICF (Eur.)"
                                         action="dashboardSP_BUICF_eur" rendered="#{user.renderBUICF_DB}" 
                                         style="width: 200px; text-align: center">
                        </h:commandButton>
                        <h:outputLabel for="spSalesBUICFeur" value="" />

                        <h:commandButton id="spSalesCPSeur" value="BUCPS (Eur.)"
                                         action="dashboardSP_CPS_eur" rendered="#{user.renderCPS_DB}" 
                                         style="width: 200px; text-align: center">
                        </h:commandButton>
                        <h:outputLabel for="spSalesCPSeur" value="" />

                        <h:commandButton id="spSalesALFeur" value="AL FLOW (Eur.)"
                                         action="dashboardSP_ALF_eur" rendered="#{user.renderALF_DB}" 
                                         style="width: 200px; text-align: center">
                        </h:commandButton>
                        <h:outputLabel for="spSalesALFeur" value="" />
                    </h:panelGrid>

                    <h:panelGrid columns="8" cellpadding="5">             
                        <h:commandButton id="spSalesBULFqty" value="BULF (Qty.)"
                                         action="dashboardSP_BULF_qty" rendered="#{user.renderBULF_DB}" 
                                         style="width: 200px; text-align: center">
                        </h:commandButton>
                        <h:outputLabel for="spSalesBULFqty" value="" />

                        <h:commandButton id="spSalesBUICFqty" value="BUICF (Qty.)"
                                         action="dashboardSP_BUICF_qty" rendered="#{user.renderBUICF_DB}" 
                                         style="width: 200px; text-align: center">
                        </h:commandButton>
                        <h:outputLabel for="spSalesBUICFqty" value="" />

                        <h:commandButton id="spSalesCPSqty" value="BUCPS (Qty.)"
                                         action="dashboardSP_CPS_qty" rendered="#{user.renderCPS_DB}" 
                                         style="width: 200px; text-align: center">
                        </h:commandButton>
                        <h:outputLabel for="spSalesCPSqty" value="" />

                        <h:commandButton id="spSalesALFqty" value="AL FLOW (Qty.)"
                                         action="dashboardSP_ALF_qty" rendered="#{user.renderALF_DB}" 
                                         style="width: 200px; text-align: center">
                        </h:commandButton>
                        <h:outputLabel for="spSalesALFqty" value="" />
                    </h:panelGrid>

                    <h3>Business Unit Reference Parts</h3>

                    <h:panelGrid columns="8" cellpadding="5">             
                        <h:commandButton id="rpHomogeniserEur" value="Homogeniser RP (Eur.)"
                                         action="dashboardRP_Homogeniser_eur" rendered="#{user.renderBULF_DB}" 
                                         style="width: 200px; text-align: center">
                        </h:commandButton>
                        <h:outputLabel for="rpHomogeniserEur" value="" />

                        <h:commandButton id="rpFreezerEur" value="Freezer RP (Eur.)"
                                         action="dashboardRP_Freezer_eur" rendered="#{user.renderBUICF_DB}" 
                                         style="width: 200px; text-align: center">
                        </h:commandButton>
                        <h:outputLabel for="rpFreezerEur" value="" />

                        <h:commandButton id="rpCPSEur" value="CPS RP (Eur.)"
                                         action="dashboardRP_CPS_eur" rendered="#{user.renderCPS_DB}" 
                                         style="width: 200px; text-align: center">
                        </h:commandButton>
                        <h:outputLabel for="rpCPSEur" value="" />
                    </h:panelGrid>


                    <h:panelGrid columns="8" cellpadding="5">             
                        <h:commandButton id="rpHomogeniserQty" value="Homogeniser RP (Qty.)"
                                         action="dashboardRP_Homogeniser_qty" rendered="#{user.renderBULF_DB}" 
                                         style="width: 200px; text-align: center">
                        </h:commandButton>
                        <h:outputLabel for="rpHomogeniserQty" value="" />

                        <h:commandButton id="rpFreezerQty" value="Freezer RP (Qty.)"
                                         action="dashboardRP_Freezer_qty" rendered="#{user.renderBUICF_DB}" 
                                         style="width: 200px; text-align: center">
                        </h:commandButton>
                        <h:outputLabel for="rpFreezerQty" value="" />

                        <h:commandButton id="rpCPSQty" value="CPS RP (Qty.)"
                                         action="dashboardRP_CPS_qty" rendered="#{user.renderCPS_DB}" 
                                         style="width: 200px; text-align: center">
                        </h:commandButton>
                        <h:outputLabel for="rpCPSQty" value="" />
                    </h:panelGrid>


                    <h:panelGrid columns="8" cellpadding="5">             
                        <h:commandButton id="rpSeparatorEur" value="Separator RP (Eur.)"
                                         action="dashboardRP_Separator_eur" rendered="#{user.renderBULF_DB}" 
                                         style="width: 200px; text-align: center">
                        </h:commandButton>
                        <h:outputLabel for="rpSeparatorEur" value="" />

                        <h:commandButton id="rpWrapperEur" value="Wrapper RP (Eur.)"
                                         action="dashboardRP_Wrapper_eur" rendered="#{user.renderBUICF_DB}" 
                                         style="width: 200px; text-align: center">
                        </h:commandButton>
                        <h:outputLabel for="rpWrapperEur" value="" />    
                    </h:panelGrid>                         


                    <h:panelGrid columns="8" cellpadding="5">             
                        <h:commandButton id="rpSeparatorQty" value="Separator RP (Qty.)"
                                         action="dashboardRP_Separator_qty" rendered="#{user.renderBULF_DB}" 
                                         style="width: 200px; text-align: center">
                        </h:commandButton>
                        <h:outputLabel for="rpSeparatorQty" value="" />

                        <h:commandButton id="rpWrapperQty" value="Wrapper RP (Qty.)"
                                         action="dashboardRP_Wrapper_qty" rendered="#{user.renderBUICF_DB}" 
                                         style="width: 200px; text-align: center">
                        </h:commandButton>
                        <h:outputLabel for="rpWrapperQty" value="" />
                    </h:panelGrid>


                    <h:panelGrid columns="8" cellpadding="5">             
                        <h:commandButton id="rpPHE_Eur" value="PHE RP (Eur.)"
                                         action="dashboardRP_PHE_eur" rendered="#{user.renderBULF_DB}" 
                                         style="width: 200px; text-align: center">
                        </h:commandButton>
                        <h:outputLabel for="rpPHE_Eur" value="" />

                        <h:commandButton id="rpDoserEur" value="Ingredient Doser RP (Eur.)"
                                         action="dashboardRP_Doser_eur" rendered="#{user.renderBUICF_DB}" 
                                         style="width: 200px; text-align: center">
                        </h:commandButton>
                        <h:outputLabel for="rpDoserEur" value="" />
                    </h:panelGrid>


                    <h:panelGrid columns="8" cellpadding="5">             
                        <h:commandButton id="rpPHE_Qty" value="PHE RP (Qty.)"
                                         action="dashboardRP_PHE_qty" rendered="#{user.renderBULF_DB}" 
                                         style="width: 200px; text-align: center">
                        </h:commandButton>
                        <h:outputLabel for="rpPHE_Qty" value="" />

                        <h:commandButton id="rpDoserQty" value="Ingredient Doser RP (Qty.)"
                                         action="dashboardRP_Doser_qty" rendered="#{user.renderBUICF_DB}" 
                                         style="width: 200px; text-align: center">
                        </h:commandButton>
                        <h:outputLabel for="rpDoserQty" value="" />
                    </h:panelGrid>


                    <h:panelGrid columns="8" cellpadding="5">             
                        <h:commandButton id="rpTHE_Eur" value="THE RP (Eur.)"
                                         action="dashboardRP_THE_eur" rendered="#{user.renderBULF_DB}" 
                                         style="width: 200px; text-align: center">
                        </h:commandButton>
                        <h:outputLabel for="rpTHE_Eur" value="" />

                        <h:commandButton id="rpIC_LinesEur" value="IC Lines RP (Eur.)"
                                         action="dashboardRP_IC_Lines_eur" rendered="#{user.renderBUICF_DB}" 
                                         style="width: 200px; text-align: center">
                        </h:commandButton>
                        <h:outputLabel for="rpIC_LinesEur" value="" />
                    </h:panelGrid>


                    <h:panelGrid columns="8" cellpadding="5">             
                        <h:commandButton id="rpTHE_Qty" value="THE RP (Qty.)"
                                         action="dashboardRP_THE_qty" rendered="#{user.renderBULF_DB}" 
                                         style="width: 200px; text-align: center">
                        </h:commandButton>
                        <h:outputLabel for="rpTHE_Qty" value="" />

                        <h:commandButton id="rpIC_LinesQty" value="IC Lines RP (Qty.)"
                                         action="dashboardRP_IC_Lines_qty" rendered="#{user.renderBUICF_DB}" 
                                         style="width: 200px; text-align: center">
                        </h:commandButton>
                        <h:outputLabel for="rpIC_LinesQty" value="" />
                    </h:panelGrid>


                    <h:panelGrid columns="8" cellpadding="5">             
                        <h:commandButton id="rpSSHE_Eur" value="SSHE RP (Eur.)"
                                         action="dashboardRP_SSHE_eur" rendered="#{user.renderBULF_DB}" 
                                         style="width: 200px; text-align: center">
                        </h:commandButton>
                        <h:outputLabel for="rpSSHE_Eur" value="" />
                    </h:panelGrid>


                    <h:panelGrid columns="8" cellpadding="5">             
                        <h:commandButton id="rpSSHE_Qty" value="SSHE RP (Qty.)"
                                         action="dashboardRP_SSHE_qty" rendered="#{user.renderBULF_DB}" 
                                         style="width: 200px; text-align: center">
                        </h:commandButton>
                        <h:outputLabel for="rpSSHE_Qty" value="" />
                    </h:panelGrid>
                </h:form>
                <p:separator />
                <p>All dashboards are based on data from clusters only, 
                    and excludes Customer Group Intercompany.</p>
                <p>Listed reference parts are used to track sales using a representative 
                    subset of material numbers selected by Business units. 
                    The sales value and volume correspond to this subset only.</p>
                <p>SOS calculation scope: Homogenisers, Ice cream equipments,
                    Separators, PHE, THE, Contherm, and Plant Components</p>
                <p>Data is refreshed manually after approximately 10 working 
                    days in current month i.e., after book closing. Consequently, dashboards 
                    will process zero sales and cost in previous time period before refresh of data.</p>
            </p:layoutUnit>
        </p:layout>
    </h:body>
</html>

